<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ include file="/include/common.jsp"%>
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>
<%-- <script type="text/javascript" src="${context}/js/fault/prb.js"></script> --%>
</head>
<body>
	<div class="wrapper wrapper-content animated fadeInRight">
		<div class="row">
			<div class="col-sm-5">
				<div class="ibox float-e-margins">
					<div class="ibox-title">
						<h5>上行PRB利用率</h5>
						<div class="ibox-tools"></div>
					</div>
					<div class="ibox-content">
						<div id="up_prb" style="height: 300px"></div>
					</div>
				</div>
			</div>
			<div class="col-sm-2" style="padding-left: 5px;padding-right: 5px;">
				<div class="ibox float-e-margins" style="padding-left: 0px;padding-right: 0px;">
					<div class="ibox-title">
						<h5>广州新全球通大厦</h5>
					</div>
					<div class="ibox-content" style="padding-top:30px;">


						<div class="widget lazur-bg p-xl" style="padding: 5px;">
							<span>新PRB利用率(4次连续)“告警监控门限：连续4个15分钟上行PRB利用率>60%，RRC连接最大数>200或下行PRB利用率>60%，RRC连接最大数>200</span>
						</div>



						<div class="widget style1 lazur-bg">
							<div class="row">
								<div class="col-xs-4">
									<i class="fa fa-user fa-3x"></i>
								</div>
								<div class="col-xs-8 text-right">
									<span>RRC连接最大数</span>
									<h2 class="font-bold">260</h2>
								</div>
							</div>
						</div>

					</div>
				</div>
			</div>
			<div class="col-sm-5">
				<div class="ibox float-e-margins">
					<div class="ibox-title">
						<h5>下行PRB利用率</h5>
						<div class="ibox-tools"></div>
					</div>
					<div class="ibox-content">
						<div id="down_prb" style="height: 300px"></div>
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-sm-7">
				<div class="ibox float-e-margins">
					<div class="ibox-title">
						<h5>关联指标对比</h5>
						<div class="ibox-tools"></div>
					</div>
					<div class="ibox-content">
						<div id="relate_index" style="height: 400px"></div>
					</div>
				</div>
			</div>
			<div class="col-sm-5">
				<div class="ibox float-e-margins">
					<div class="ibox-title">
						<h5>性能工单</h5>
						<div class="ibox-tools"></div>
					</div>
					<div class="ibox-content">
						<div class="jqGrid_wrapper">
							<table class="table">
								<thead>
									<tr>
										<th>时间</th>
										<th>次数</th>
										<th>指标值</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td>2017-08-26 20:00</td>
										<td>10</td>
										<td>[YY-无线接通率]=20%</td>
									</tr>
									<tr>
										<td>2017-08-26 19:15</td>
										<td>5</td>
										<td>[上行PRB利用率] = 64.44,[下行PRB利用率] = 61.95</td>
									</tr>
									<tr>
										<td>2017-08-26 15:00</td>
										<td>3</td>
										<td>[RRC连接最大数] = 215.00</td>
									</tr>
								</tbody>
							</table>
						</div>

					</div>
				</div>
			</div>
		</div>
	</div>
	<script type="text/javascript">
		
		var myChart = echarts.init($("#up_prb").get(0));
		var myChart2 = echarts.init($("#down_prb").get(0));
		var myChart3 = echarts.init($("#relate_index").get(0));

		var data = [];

		var cluster = [ [ 0.25, 2410.884 ], [ 1.25, 1107.845 ],
				[ 2.25, 1568.166 ], [ 3.25, 8.532 ], [ 4.25, 0 ], [ 5.25, 0 ],
				[ 6.25, 112.504 ], [ 7.25, 89.057 ], [ 8.25, 1665.613 ],
				[ 9.25, 5015.594 ], [ 10.25, 25411.765 ],
				[ 11.25, 236097.986 ], [ 12.25, 743252.429 ],
				[ 13.25, 634283.115 ], [ 14.25, 946084.338 ],
				[ 15.25, 844961.067 ], [ 16.25, 626976.85975 ],
				[ 17.25, 681758.7345 ], [ 18.25, 805631.118 ],
				[ 19.25, 851205.293 ], [ 20.25, 947198.851 ],
				[ 21.25, 588626.076 ], [ 22.25, 185599.081 ],
				[ 23.25, 52295.697 ], [ 10.85, 107770 ], [ 11.85, 627670 ],
				[ 12.85, 660478 ], [ 13.85, 662361 ], [ 14.85, 599977 ],
				[ 15.85, 678159 ], [ 18.85, 726315 ], [ 19.85, 688469 ],
				[ 20.85, 632875 ], [ 21.85, 169329 ], [ 22.85, 20483 ],
				[ 0.2, 37122.5 ], [ 1.2, 18890.3 ], [ 9.2, 5900.69 ],
				[ 10.2, 14896.9 ], [ 11.2, 585484 ], [ 12.2, 914730 ],
				[ 13.2, 804275 ], [ 14.2, 678828.06825 ], [ 15.2, 749907 ],
				[ 16.2, 712377 ], [ 17.2, 724365 ], [ 18.2, 815389 ],
				[ 19.2, 833659 ], [ 20.2, 607555 ], [ 21.2, 321824 ],
				[ 22.2, 22018.8 ], [ 23.2, 3588.03 ], [ 23.85, 24976.8 ] ];

		var cluster_top = [ [ 0.25, 2410.884 ], [ 0.5, 13934.846 ],
				[ 0.75, 39122.532 ], [ 1.0, 243.263 ], [ 1.25, 1107.845 ],
				[ 1.5, 572.116 ], [ 1.75, 20890.341 ], [ 2.0, 2484.278 ],
				[ 2.25, 1568.166 ], [ 2.5, 8.703 ], [ 2.75, 18.578 ],
				[ 3.0, 6.074 ], [ 3.25, 8.532 ], [ 3.5, 0 ], [ 3.75, 0.487 ],
				[ 4.0, 0 ], [ 4.25, 0 ], [ 4.5, 0 ], [ 4.75, 0 ], [ 5.0, 0 ],
				[ 5.25, 0 ], [ 5.5, 18.993 ], [ 5.75, 0 ], [ 6.0, 192.689 ],
				[ 6.25, 112.504 ], [ 6.5, 0 ], [ 6.75, 2.626 ], [ 7.0, 0 ],
				[ 7.25, 89.057 ], [ 7.5, 13.577 ], [ 7.75, 11.017 ],
				[ 8.0, 1196.355 ], [ 8.25, 1665.613 ], [ 8.5, 6036.284 ],
				[ 8.75, 1396.757 ], [ 9.0, 2831.862 ], [ 9.25, 5015.594 ],
				[ 9.5, 890.586 ], [ 9.75, 7900.694 ], [ 10.0, 15914.504 ],
				[ 10.25, 25411.765 ], [ 10.5, 38587.351 ],
				[ 10.75, 16896.915 ], [ 11.0, 105770.312 ],
				[ 11.25, 236097.986 ], [ 11.5, 305306.996 ],
				[ 11.75, 587484.423 ], [ 12.0, 625669.792 ],
				[ 12.25, 743252.429 ], [ 12.5, 679520.499 ],
				[ 12.75, 966729.807 ], [ 13.0, 658477.503 ],
				[ 13.25, 634283.115 ], [ 13.5, 603880.679 ],
				[ 13.75, 806275.169 ], [ 14.0, 660360.862 ],
				[ 14.25, 1000494.345 ], [ 14.5, 723730.159 ],
				[ 14.75, 669389.655 ], [ 15.0, 597977.015 ],
				[ 15.25, 844961.067 ], [ 15.5, 602542.557 ],
				[ 15.75, 751906.921 ], [ 16.0, 676158.585 ],
				[ 16.25, 602309.329 ], [ 16.5, 733899.372 ],
				[ 16.75, 714377.179 ], [ 17.0, 907129.25 ],
				[ 17.25, 855102.195 ], [ 17.5, 674904.306 ],
				[ 17.75, 726364.679 ], [ 18.0, 654094.674 ],
				[ 18.25, 805631.118 ], [ 18.5, 718999.105 ],
				[ 18.75, 817389.45 ], [ 19.0, 724315.044 ],
				[ 19.25, 881205.293 ], [ 19.5, 1021314.304 ],
				[ 19.75, 835658.841 ], [ 20.0, 686468.516 ],
				[ 20.25, 1037198.851 ], [ 20.5, 966008.851 ],
				[ 20.75, 609554.656 ], [ 21.0, 630874.619 ],
				[ 21.25, 588626.076 ], [ 21.5, 410261.543 ],
				[ 21.75, 323823.75 ], [ 22.0, 167328.787 ],
				[ 22.25, 185599.081 ], [ 22.5, 52314.901 ],
				[ 22.75, 24018.757 ], [ 23.0, 18482.951 ],
				[ 23.25, 52295.697 ], [ 23.5, 8199.238 ], [ 23.75, 5588.03 ],
				[ 24.0, 22976.818 ] ];
		var cluster_bottom = [ [ 0.25, 2410.884 ], [ 1.25, 1107.845 ],
				[ 2.25, 1568.166 ], [ 3.25, 8.532 ], [ 4.25, 0 ], [ 5.25, 0 ],
				[ 6.25, 112.504 ], [ 7.25, 89.057 ], [ 8.25, 1665.613 ],
				[ 9.25, 5015.594 ], [ 10.25, 25411.765 ],
				[ 11.25, 236097.986 ], [ 12.25, 743252.429 ],
				[ 13.25, 634283.115 ], [ 14.25, 1000494.345 ],
				[ 15.25, 844961.067 ], [ 16.25, 602309.329 ],
				[ 17.25, 855102.195 ], [ 18.25, 805631.118 ],
				[ 19.25, 881205.293 ], [ 20.25, 1037198.851 ],
				[ 21.25, 588626.076 ], [ 22.25, 185599.081 ],
				[ 23.25, 800000.697 ] ];
		var cluster2 = [ [ 0.25, 626976.85975 ], [ 2.25, 681758.7345 ],
				[ 3.25, 805631.118 ], [ 4.25, 851205.293 ],
				[ 5.25, 947198.851 ], [ 3.85, 726315 ], [ 4.85, 688469 ],
				[ 5.85, 632875 ], [ 1.2, 712377 ], [ 2.2, 724365 ],
				[ 3.2, 815389 ], [ 4.2, 833659 ], [ 5.2, 607555 ] ];
		var cluster_top2 = [ [ 0.0, 602542.557 ], [ 0.75, 751906.921 ],
				[ 1.0, 676158.585 ], [ 1.25, 602309.329 ], [ 1.5, 733899.372 ],
				[ 1.75, 714377.179 ], [ 2.0, 907129.25 ], [ 2.25, 855102.195 ],
				[ 2.5, 674904.306 ], [ 2.75, 726364.679 ], [ 3.0, 654094.674 ],
				[ 3.25, 805631.118 ], [ 3.5, 718999.105 ], [ 3.75, 817389.45 ],
				[ 4.0, 717389.044 ], [ 4.25, 881205.293 ], [ 4.5, 891205.304 ],
				[ 4.75, 835658.841 ], [ 5.0, 686468.516 ],
				[ 5.25, 1037198.851 ], [ 5.5, 966008.851 ],
				[ 5.75, 609554.656 ] ];
		var cluster_bottom2 = [ [ 0.25, 602309.329 ], [ 2.25, 855102.195 ],
				[ 3.25, 805631.118 ], [ 4.25, 881205.293 ],
				[ 5.25, 1037198.851 ] ];

		var data1 = [[0.25,11938.723],
			[0.5,16933.231],
			[0.75,25294.432],
			[1,18339.655],
			[1.25,3128.342],
			[1.5,1123.106],
			[1.75,17159.023],
			[2,172.399],
			[2.25,35.882],
			[2.5,62.499],
			[2.75,20.759],
			[3,85.879],
			[3.25,94.133],
			[3.5,13.968],
			[3.75,65.342],
			[4,224.208],
			[4.25,198.24],
			[4.5,51.4],
			[4.75,239.493],
			[5,9.244],
			[5.25,75.458],
			[5.5,52.675],
			[5.75,76.619],
			[6,24.437],
			[6.25,31.181],
			[6.5,31.928],
			[6.75,10.143],
			[7,182.369],
			[7.25,144.278],
			[7.5,245.761],
			[7.75,352.511],
			[8,1475.803],
			[8.25,4592.405],
			[8.5,2688.076],
			[8.75,2621.423],
			[9,7485.741],
			[9.25,34669.188],
			[9.5,68257.189],
			[9.75,71504.714],
			[10,36165.792],
			[10.25,54897.166],
			[10.5,72272.037],
			[10.75,2047986.605],
			[11,138915.958],
			[11.25,206551.878],
			[11.5,264365.265],
			[11.75,222936.391],
			[12,555313.657],
			[12.25,545768.158],
			[12.5,526947.087],
			[12.75,716631.386],
			[13,480425.57],
			[13.25,895476.071],
			[13.5,874455.646],
			[13.75,761321.824],
			[14,503940.354],
			[14.25,645006.551],
			[14.5,730539.317],
			[14.75,263973.785],
			[15,0],
			[15.25,0],
			[15.5,0],
			[15.75,203257.574],
			[16,493053.333],
			[16.25,638624.325],
			[16.5,884062.115],
			[16.75,485608.084],
			[17,422128.893],
			[17.25,591928.872],
			[17.5,736054.469],
			[17.75,722469.511],
			[18,621883.713],
			[18.25,619589.249],
			[18.5,1230791.587],
			[18.75,819669.102],
			[19,634464.896],
			[19.25,705646.67],
			[19.5,651650.87],
			[19.75,717917.346],
			[20,1006770.931],
			[20.25,689364.54],
			[20.5,806150.989],
			[20.75,627259.1],
			[21,452545.59],
			[21.25,394297.843],
			[21.5,430951.462],
			[21.75,528904.134],
			[22,218364.469],
			[22.25,137067.777],
			[22.5,210164.377],
			[22.75,265026.163],
			[23,70582.295],
			[23.25,88014.774],
			[23.5,47078.938],
			[23.75,22653.489],
			[24,18740.562]];
		var data2 = [[0.25,18942.323],
			[0.5,14605.719],
			[0.75,4895.939],
			[1,2323.968],
			[1.25,3606.905],
			[1.5,3844.68],
			[1.75,10.186],
			[2,2146.033],
			[2.25,8834.419],
			[2.5,704.98],
			[2.75,34.162],
			[3,6.531],
			[3.25,27696.731],
			[3.5,9609.177],
			[3.75,271.112],
			[4,122.558],
			[4.25,59.654],
			[4.5,9.72],
			[4.75,14.741],
			[5,14.819],
			[5.25,15.285],
			[5.5,3.857],
			[5.75,1.554],
			[6,1.771],
			[6.25,6.444],
			[6.5,0.498],
			[6.75,0.864],
			[7,43.432],
			[7.25,83.822],
			[7.5,115.897],
			[7.75,475.38],
			[8,817.519],
			[8.25,583.831],
			[8.5,1827.9],
			[8.75,4059.153],
			[9,41016.257],
			[9.25,31982.281],
			[9.5,22086.083],
			[9.75,115730.549],
			[10,27154.017],
			[10.25,48097.009],
			[10.5,76766.806],
			[10.75,460916.686],
			[11,441275.213],
			[11.25,157836.11],
			[11.5,305397.979],
			[11.75,358565.578],
			[12,633295.115],
			[12.25,817676.379],
			[12.5,483886.662],
			[12.75,597425.442],
			[13,735494.546],
			[13.25,591374.152],
			[13.5,483450.142],
			[13.75,616055.405],
			[14,1865477.127],
			[14.25,1986377.042],
			[14.5,1132156.158],
			[14.75,715472.104],
			[15,734624.154],
			[15.25,1227570.804],
			[15.5,1038562.103],
			[15.75,378448.218],
			[16,518394.492],
			[16.25,870790.974],
			[16.5,530409.009],
			[16.75,466706.894],
			[17,646670.166],
			[17.25,609370.07],
			[17.5,450730.974],
			[17.75,669162.352],
			[18,522455.152],
			[18.25,545850.965],
			[18.5,621846.275],
			[18.75,753364.253],
			[19,776069.098],
			[19.25,706624.269],
			[19.5,644466.626],
			[19.75,738115.1],
			[20,1255909.248],
			[20.25,905800.465],
			[20.5,734427.494],
			[20.75,853472.619],
			[21,704916.655],
			[21.25,584464.595],
			[21.5,444410.55],
			[21.75,413154.634],
			[22,167302.591],
			[22.25,110783.214],
			[22.5,93431.745],
			[22.75,75751.619],
			[23,101154.364],
			[23.25,95952.921],
			[23.5,85614.27],
			[23.75,2726.612]];
		option = {
			baseOption : {
				xAxis : {
					type : 'value'

				},
				yAxis : {
					type : 'value',
				},
				series : [
						{
							type : 'scatter',
							data : data
						},
						{
							type : 'scatter',
							symbolSize : 18,
							itemStyle : {
								normal : {
									shadowBlur : 10,
									shadowColor : 'rgba(25, 100, 150, 0.5)',
									shadowOffsetY : 5,
									color : new echarts.graphic.RadialGradient(
											0.4, 0.3, 1, [ {
												offset : 0,
												color : 'rgb(129, 227, 238)'
											}, {
												offset : 1,
												color : 'rgb(25, 183, 207)'
											} ])
								}
							},
							data : cluster
						}, {
							type : 'line',
							lineStyle : {
								normal : {
									color : '#2f4554'
								}
							},
							smooth : true,
							showSymbol : false,

							data : cluster_top
						} ]
			},
			options : []
		};
		option2 = {
			baseOption : {
				xAxis : {
					type : 'value'

				},
				yAxis : {
					type : 'value',
				},
				series : [
						{
							type : 'scatter',
							data : data
						},
						{
							type : 'scatter',
							symbolSize : 18,
							itemStyle : {
								normal : {
									shadowBlur : 10,
									shadowColor : 'rgba(25, 100, 150, 0.5)',
									shadowOffsetY : 5,
									color : new echarts.graphic.RadialGradient(
											0.4, 0.3, 1, [ {
												offset : 0,
												color : 'rgb(129, 227, 238)'
											}, {
												offset : 1,
												color : 'rgb(25, 183, 207)'
											} ])
								}
							},
							data : cluster2
						}, {
							type : 'line',
							lineStyle : {
								normal : {
									color : '#2f4554'
								}
							},
							smooth : true,
							showSymbol : false,
							data : cluster_top2
						} ]
			},
			options : []
		};
		option3 = {
			legend : {
				left : 'left',
				data : [ 'YY-ERAB建立成功率', 'YY-无线掉线率' ,'小区下行信道可用的PRB个数']
			},
			xAxis : {
				type : 'value'

			},
			yAxis : {
				type : 'value',
			},
			series : [
					{
						name : "YY-ERAB建立成功率",
						type : 'line',
						lineStyle : {
							normal : {
								color : '#CE0000',
							}
						},
						data : cluster_top
						
					}, {
						name: 'YY-无线掉线率',
						type : 'line',
						lineStyle : {
							normal : {
								color : '#8600FF' 
							}
						},
						data : data2
					},{
						name: '小区下行信道可用的PRB个数',
						type : 'line',
						lineStyle : {
							normal : {
								color : '#9AFF02'
							}
						},
						data : data1
					} ]

		};
		myChart.setOption(option);
		myChart2.setOption(option2);
		myChart3.setOption(option3);
	</script>
</body>
</html>